<div class="favorites-container row g-4">
  <div *ngFor="let product of favorites" class="col-lg-3 col-md-4 col-sm-6">
    <div class="card product-card h-100 shadow-sm">
      
      <!-- الصورة الرئيسية -->
      <img 
        *ngIf="product.photos?.length > 0"
        [src]="'https://localhost:44388/' + product.photos[0].imageName"
        [alt]="product.name"
        class="card-img-top main-img"
      />

      <!-- صور مصغرة -->
      <div class="thumbnails d-flex justify-content-center gap-2 mt-2" *ngIf="product.photos?.length > 1">
        <img *ngFor="let photo of product.photos" 
             [src]="'https://localhost:44388/' + photo.imageName"
             class="thumbnail-img" />
      </div>

      <div class="card-body d-flex flex-column">
        <h5 class="card-title text-truncate">{{ product.name }}</h5>
        <p class="card-text text-truncate">{{ product.description }}</p>

        <p class="price mb-2">
          <span class="old-price">{{ product.oldPrice | currency }}</span>
          <span class="new-price">{{ product.newPrice | currency }}</span>
        </p>

        <div class="rating mb-3">
          <i *ngFor="let star of getArrayofRating(product.rating)" 
             class="fa fa-star text-warning fs-6"></i>
        </div>

        <div class="d-flex justify-content-between mt-auto gap-2">
          <!-- <button class="btn btn-dark btn-sm flex-fill" 
                  (click)="AddToBasket(product)">
            <i class="fa fa-shopping-cart me-1"></i> Add to Cart
          </button> -->

          <button class="btn btn-outline-danger btn-sm flex-fill"
                  (click)="removeFavorite(product.id)">
            <i class="fa fa-trash"></i>
          </button>

          <button class="btn btn-success btn-sm flex-fill"
                  [routerLink]="'/shop/product-details/' + product.id">
            <i class="fa fa-info-circle me-1"></i> Details
          </button>
        </div>
      </div>

    </div>
  </div>
</div>
